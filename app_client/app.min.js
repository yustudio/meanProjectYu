!function(){function o(o,e){o.state("app",{url:"/",views:{header:{templateUrl:"common/header/header.view.html",controller:"HeaderController"},content:{templateUrl:"home/home.view.html",controller:"HomeController"},footer:{templateUrl:"common/footer/footer.view.html",controller:"FooterController"}}}).state("app.aboutus",{url:"aboutus",views:{"content@":{templateUrl:"aboutus/aboutus.view.html",controller:"AboutUsController"}}}).state("app.login",{url:"login",views:{"content@":{templateUrl:"auth/login/login.view.html",controller:"LoginController"}}}).state("app.register",{url:"register",views:{"content@":{templateUrl:"auth/register/register.view.html",controller:"RegisterController"}}}).state("app.profile",{url:"profile",views:{"content@":{templateUrl:"profile/profile.view.html",controller:"ProfileController"}}}),e.otherwise("/")}angular.module("MeanAppYu",["ui.router"]),angular.module("MeanAppYu").config(["$stateProvider","$urlRouterProvider",o])}(),function(){angular.module("MeanAppYu").controller("AboutUsController",["$scope",function(o){console.log("Running AboutusController")}])}(),function(){angular.module("MeanAppYu").controller("HomeController",["$scope",function(o){console.log("Running HomeController")}])}(),function(){angular.module("MeanAppYu").controller("ProfileController",["$scope","meanData",function(o,e){console.log("Running ProfileController"),e.getProfile().success(function(e){o.user=e}).error(function(o){console.log(o)})}])}(),function(){angular.module("MeanAppYu").controller("RegisterController",["$scope","$location","authentication",function(o,e,n){console.log("Running RegisterController");var t={firstName:"",lastName:"",email:"",password:""};o.dataloading=!1,o.user=t,o.register=function(){console.log(JSON.stringify(t)),o.dataloading=!0,n.register(t).success(function(o){console.log("Registration Successful"),e.path("/profile")}).error(function(n){console.log("Registraion failed: "+n.message),alert("Registraion failed: "+n.message),e.path("/register"),o.dataloading=!1})}}])}(),function(){angular.module("MeanAppYu").controller("FooterController",["$scope",function(o){console.log("Running FooterController")}])}(),function(){angular.module("MeanAppYu").controller("LoginController",["$scope",function(o){console.log("Running LoginController")}])}(),function(){angular.module("MeanAppYu").service("authentication",["$http","$window","$location",function(o,e,n){console.log("Running authentication");var t=function(o){e.localStorage["mean-token"]=o},r=function(){return e.localStorage["mean-token"]},l=function(){var o,n=r();return!!n&&(o=n.split(".")[1],o=e.atob(o),o=JSON.parse(o),o.exp>Date.now()/1e3)},i=function(){if(l()){var o=r(),n=o.split(".")[1];return n=e.atob(n),n=JSON.parse(n),{email:n.email,name:n.name}}};return register=function(e){return console.log("-------------Inside auth.service"),o.post("/api/register",e).success(function(o){t(o.token)})},login=function(e){return o.post("/api/login",e).success(function(o){t(o.token)})},logout=function(){e.localStorage.removeItem("mean-token")},{currentUser:i,saveToken:t,getToken:r,isLoggedIn:l,register:register,login:login,logout:logout}}])}(),function(){angular.module("MeanAppYu").service("meanData",["$http","authentication",function(o,e){var n=function(){return o.get("/api/profile",{headers:{Authorization:"Bearer "+e.getToken()}})};return{getProfile:n}}])}(),function(){angular.module("MeanAppYu").controller("HeaderController",["$scope",function(o){console.log("Running HeaderController")}])}();
//# sourceMappingURL=app.min.js.map
