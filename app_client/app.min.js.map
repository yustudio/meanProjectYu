{"version":3,"sources":["app.min.js"],"names":["config","$stateProvider","$urlRouterProvider","state","url","views","header@","templateUrl","controller","content@","footer","content@app","content@app.product1","content@app.product2","otherwise","angular","module","$scope","console","log","models","name","spec1","spec2","meanData","getProfile","success","data","user","error","err","$location","authentication","firstName","lastName","email","password","dataloading","register","JSON","stringify","path","message","alert","$state","isLoggedIn","currentUser","facebookSignin","facebookLogin","logout","is","reload","profile","login","service","$http","$window","saveToken","token","localStorage","getToken","payload","split","atob","parse","exp","Date","now","post","removeItem","get","headers","Authorization"],"mappings":"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","file":"app.min.js","sourcesContent":["// UI view ref:\r\n// https://github.com/angular-ui/ui-router/wiki/Nested-States-%26-Nested-Views\r\n// http://plnkr.co/edit/gmtcE2?p=preview\r\n\r\n// http://stackoverflow.com/questions/19776345/multiple-nested-ui-views-with-ui-router-and-angularjs\r\n\r\n(function() {\r\n\r\n\tangular.module('MeanAppYu', ['ui.router']);\r\n\r\n\tfunction config($stateProvider, $urlRouterProvider){\r\n\t\r\n\t$stateProvider\r\n\t\t.state('app',{\r\n\t\t\turl  : '/',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@':{\r\n\t\t\t\t\ttemplateUrl : \"home/home.view.html\",\r\n\t\t\t\t\tcontroller  : \"HomeController\"\r\n\t\t\t\t},\r\n\t\t\t\t'footer' :{\r\n\t\t\t\t\ttemplateUrl : \"common/footer/footer.view.html\",\r\n\t\t\t\t\tcontroller  : \"FooterController\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t.state('app.product1',{\r\n\t\t\turl  : 'product1',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@app':{\r\n\t\t\t\t\ttemplateUrl : \"products/product1.html\",\r\n\t\t\t\t\tcontroller  : \"HomeController\"\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t.state('app.product1.model1',{\r\n\t\t\turl  : 'model1',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@app.product1':{\r\n\t\t\t\t\ttemplateUrl : \"products/product1model1.html\",\r\n\t\t\t\t\tcontroller  : \"HomeController\"\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t.state('app.product2',{\r\n\t\t\turl  : 'product2',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@app':{\r\n\t\t\t\t\ttemplateUrl : \"products/product2.html\",\r\n\t\t\t\t\tcontroller  : \"HomeController\"\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t.state('app.product2.model1',{\r\n\t\t\turl  : 'model1',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@app.product2':{\r\n\t\t\t\t\ttemplateUrl : \"products/product2model1.html\",\r\n\t\t\t\t\tcontroller  : \"HomeController\"\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t\r\n\t\t.state('app.aboutus',{\r\n\t\t\turl  : 'aboutus',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@':{\r\n\t\t\t\t\ttemplateUrl : \"aboutus/aboutus.view.html\",\r\n\t\t\t\t\tcontroller  : \"AboutUsController\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.state('app.login',{\r\n\t\t\turl  : 'login',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@':{\r\n\t\t\t\t\ttemplateUrl : \"auth/login/login.view.html\",\r\n\t\t\t\t\tcontroller  : \"LoginController\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t.state('app.register',{\r\n\t\t\turl  : 'register',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@':{\r\n\t\t\t\t\ttemplateUrl : \"auth/register/register.view.html\",\r\n\t\t\t\t\tcontroller  : \"RegisterController\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.state('app.profile',{\r\n\t\t\turl  : 'profile',\r\n\t\t\tviews:{\r\n\t\t\t\t'header@' : {\r\n\t\t\t\t\ttemplateUrl : 'common/header/header.view.html',\r\n\t\t\t\t\tcontroller  : \"HeaderController\"\r\n\t\t\t\t},\r\n\t\t\t\t'content@':{\r\n\t\t\t\t\ttemplateUrl : \"profile/profile.view.html\",\r\n\t\t\t\t\tcontroller  : \"ProfileController\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t$urlRouterProvider.otherwise('/');\r\n\t};\r\n\r\n\tangular\r\n    .module('MeanAppYu')\r\n    .config(['$stateProvider', '$urlRouterProvider', config]);\r\n    //.run(['$rootScope', '$location', 'authentication', run]);\r\n\r\n})();\n(function() {\r\n\tangular.module('MeanAppYu')\t\r\n\t\t\t.controller('AboutUsController', ['$scope', function($scope){\r\n\t\t\t\tconsole.log('Running AboutusController');\r\n\t\t\t}]);\r\n\r\n})();\r\n\n(function () {\r\n\r\n\tangular.module('MeanAppYu')\t\t\r\n\t\t\t.controller('HomeController', ['$scope', function($scope){\r\n\t\t\t\tconsole.log('Running HomeController');\r\n\r\n\t\t\t\t$scope.models = [{name: \"model1\", spec1: \"spec1\", spec2: \"spec2\"},{name: \"model2\", spec1: \"spec1\", spec2: \"spec2\"}];\r\n\r\n\r\n\t\t\t}]);\r\n\r\n})();\r\n\r\n\n(function () {\r\n\r\n\tangular.module('MeanAppYu')\r\n\t\t\t.controller('ProfileController', ['$scope', 'meanData', function($scope, meanData){\r\n\t\t\t\tconsole.log('Running ProfileController');\r\n\r\n\t\t\t\tmeanData.getProfile()\r\n\t\t\t\t\t.success(function(data) {\r\n\t\t\t\t\t$scope.user = data;\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t})\r\n\t\t\t\t.error(function (err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\r\n\t\t\t}]);\r\n\r\n})();\r\n\r\n\n\r\n(function (){\r\n\r\n\tangular.module('MeanAppYu')\r\n\t\t\t.controller('LoginController', ['$scope', function($scope){\r\n\t\t\t\tconsole.log('Running LoginController');\r\n\t\t\t}]);\r\n\r\n})();\r\n\r\n\t\t\r\n\t\n(function (){\r\n\tangular.module('MeanAppYu')\t\t\r\n\t\t.controller('RegisterController', ['$scope', '$location', 'authentication', function($scope,$location,authentication){\r\n\t\t\tconsole.log('Running RegisterController');\r\n\r\n\t\t\tvar user={\r\n\t\t\t\tfirstName:\"\",\r\n\t\t\t\tlastName: \"\",\r\n\t\t\t\temail:\"\",\r\n\t\t\t\tpassword:\"\"\r\n\t\t\t};\r\n\r\n\t\t\t$scope.dataloading = false;\r\n\t\t\t$scope.user = user;\r\n\r\n\t\t\t$scope.register=function(){\r\n\t\t\t\tconsole.log(JSON.stringify(user));\r\n\t\t\t\t$scope.dataloading = true;\r\n\t\t\t\tauthentication.register(user)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\tconsole.log(\"Registration Successful\");\r\n\t\t\t\t\t\t$location.path('/profile');\r\n\t\t\t\t\t})\r\n\t\t\t\t.error(function(err){\r\n\t\t\t\t\t\tconsole.log(\"Registraion failed: \"+ err.message);\r\n\t\t\t\t\t\talert(\"Registraion failed: \"+ err.message);\r\n\t\t\t\t\t\t$location.path(\"/register\");\r\n\t\t\t\t\t\t$scope.dataloading = false;\r\n\t\t\t\t});\t\t\r\n\t\t\t};\r\n\r\n\t\t}]);\r\n\r\n})();\r\n\r\n\t\n(function () {\r\n\r\n\tangular.module('MeanAppYu')\t\t\r\n\t\t\t.controller('FooterController', ['$scope', function($scope){\r\n\t\t\t\tconsole.log('Running FooterController');\r\n\t\t\t}]);\r\n\r\n})();\r\n\n(function () {\r\n\r\n\tangular.module('MeanAppYu')\t\t\r\n\t\t\t.controller('HeaderController', ['$scope', '$location', '$state', 'authentication', function($scope, $location, $state, authentication){\r\n\t\t\t\tconsole.log('Running HeaderController');\r\n\r\n\t\t\t\tuser = {\r\n\t\t\t\t\temail : \"\",\r\n\t\t\t\t\tpassword : \"\"\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$scope.user = user;\r\n\r\n\t\t\t    $scope.isLoggedIn = authentication.isLoggedIn();\r\n\r\n\t\t\t    $scope.currentUser = authentication.currentUser();\r\n\r\n\t\t\t    //$scope.isLoggedIn = authentication.isLoggedIn();\r\n\r\n\t\t\t    $scope.facebookSignin = function() {\r\n\t\t\t    \tauthentication.facebookLogin()\r\n\t\t\t    \t.success(function(data){\r\n\t\t\t    \t\tconsole.log(\"Header controller, Login Successful\");\r\n\t\t\t    \t\t$location.path('/profile');\r\n\t\t\t    \t})\r\n\t\t\t    \t.error(function(err){\r\n\t\t\t    \t\tconsole.log(\"Header controller, Login failed: \" + err);\r\n\t\t\t    \t\talert(\"Header controller, Login failed: \" + err);\r\n\t\t\t    \t\t$location.path(\"/login\");\r\n\t\t\t    \t});\t\r\n\t\t\t    } \r\n\r\n\t\t\t    console.log(\"logged in: \" + $scope.isLoggedIn);\r\n\t\t\t    \r\n\t\t\t    $scope.logout = function(){\r\n\t\t\t      authentication.logout();\r\n\t\t\t      if ($state.is('app')) {\r\n\t\t\t      \t$state.reload();\r\n\t\t\t      } else {\r\n\t\t\t      \t$location.path('/');\t\r\n\t\t\t      }\t\t\t      \r\n\t\t\t    };\r\n\r\n\t\t\t    // $scope.signIn = function(){\r\n\t\t\t    //   //$location.path('/login');\r\n\t\t\t    //   onSubmit();\r\n\t\t\t    // }\r\n\r\n\t\t\t    $scope.profile = function(){\r\n\t\t\t      $location.path('/profile');\r\n\t\t\t    };\r\n\r\n\t\t\t\t$scope.login = function () {\r\n\t\t\t\t\tauthentication\r\n\t\t\t\t\t.login(user)\t\t\t\t\t\r\n\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\t$location.path('profile');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(err){\r\n\t\t\t\t\t\talert(err.message);\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t}]);\r\n\r\n})();\r\n\n( function() {\r\nangular.module('MeanAppYu')\t\t\r\n\t\t.service('authentication', ['$http', '$window', '$location', function($http, $window, $location){\r\n\t\t\tconsole.log('Running authentication');\r\n\r\n\t\t\tvar saveToken = function (token) {\r\n\t\t\t\t$window.localStorage['mean-token'] = token;\r\n\t\t\t};\r\n\r\n\t\t\tvar getToken = function () {\r\n\t\t\t\treturn $window.localStorage['mean-token'];\r\n\t\t\t};\r\n\r\n\t\t\tvar isLoggedIn = function() {\r\n\t\t\t\tvar token = getToken();\r\n\t\t\t\tvar payload;\r\n\r\n\t\t\t\tif(token){\r\n\t\t\t\t\tpayload = token.split('.')[1]; // get second part of token\r\n\t\t\t\t\tpayload = $window.atob(payload);  // decode a base64 string\r\n\t\t\t\t\tpayload = JSON.parse(payload); // parse it as JSON\r\n\r\n\t\t\t\t\treturn payload.exp > Date.now() / 1000;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar currentUser = function() {\r\n\t\t\t\tif(isLoggedIn()){\r\n\t\t\t\t\tvar token = getToken();\r\n\t\t\t\t\tvar payload = token.split('.')[1];\r\n\t\t\t\t\tpayload = $window.atob(payload);\r\n\t\t\t\t\tpayload = JSON.parse(payload);\r\n\t\t\t\treturn {\r\n\t\t\t\t\temail : payload.email,\r\n\t\t\t\t\tname : payload.firstName\r\n\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tregister = function(user) {\r\n\t\t\t\tconsole.log(\"-------------Inside auth.service\")\r\n\t\t\t\treturn $http.post('/api/register', user).success(function(data){\r\n\t\t\t\t\tsaveToken(data.token);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tlogin = function(user) {\r\n\r\n\t\t\t\tconsole.log(\"------------before sending http to login, user:\" + JSON.stringify(user));\r\n\t\t\t\treturn $http.post('/api/login', user).success(function(data) {\r\n\t\t\t\t\tsaveToken(data.token);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tlogout = function() {\r\n\t\t\t\t$window.localStorage.removeItem('mean-token');\t\t\t\r\n\t\t\t};\r\n\r\n\t\t\tvar facebookLogin = function() {\r\n\t\t\t\tconsole.log(\"------------sending request to server to go to facebook\");\r\n\t\t\t\treturn $http.get('/api/facebook').success(function(data) {\r\n\t\t\t\t\tsaveToken(data.token);\r\n\t\t\t\t});\r\n\t\t\t}; \r\n\r\n\t\t\treturn {\r\n\t\t\t\tcurrentUser : currentUser,\r\n\t\t\t\tsaveToken : saveToken,\r\n\t\t\t\tgetToken : getToken,\r\n\t\t\t\tisLoggedIn : isLoggedIn,\r\n\t\t\t\tregister : register,\r\n\t\t\t\tlogin : login,\r\n\t\t\t\tlogout : logout,\r\n\t\t\t\tfacebookLogin: facebookLogin\r\n\t\t\t};\r\n\r\n\t\r\n\r\n\t\t}]);\r\n\r\n})();\n(function() {\r\n\r\n  angular\r\n    .module('MeanAppYu')\r\n    .service('meanData', ['$http', 'authentication', function($http, authentication) {\r\n\r\n\t    // pass token to API /api/profile, server expects JWT in the header \r\n\t    // on the request called Authorization\r\n\t    var getProfile = function () {\r\n\t      return $http.get('/api/profile', {\r\n\t        // Bearer is http token based strategy\r\n\t        headers: {\r\n\t          Authorization: 'Bearer '+ authentication.getToken()\r\n\t        }\r\n\t      });\r\n\t    };\r\n\r\n\t    return {\r\n\t      getProfile : getProfile\r\n\t  \t};\r\n    }]);\r\n})();"],"sourceRoot":"/source/"}